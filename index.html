<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>é›™åŸå†¬å­£ä¹‹æ—…</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; -webkit-tap-highlight-color: transparent; overscroll-behavior-y: none; }
        .day-card { transition: all 0.3s ease; }
        .hidden-content { display: none; }
        .active-tab { border-bottom: 3px solid #b91c1c; color: #b91c1c; font-weight: 700; background-color: #fef2f2; }
        .scroll-hide::-webkit-scrollbar { display: none; }
        .scroll-hide { -ms-overflow-style: none; scrollbar-width: none; }
        .nav-active { color: #b91c1c; font-weight: bold; }
        .nav-inactive { color: #9ca3af; }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 pb-24 select-none">

    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 bg-white shadow-md z-50">
        <div class="px-4 py-3 bg-red-800 text-white flex justify-between items-center shadow-sm">
            <div class="flex items-center">
                <div class="mr-3 text-2xl">ğŸ‡¦ğŸ‡¹</div>
                <div>
                    <h1 class="text-lg font-bold tracking-wide">å†¬æ—¥é›™åŸéŠ</h1>
                    <p class="text-xs text-red-200">2025/12/04 - 12/12</p>
                </div>
            </div>
        </div>
        
        <!-- Date Slider (Always visible now) -->
        <div class="flex overflow-x-auto whitespace-nowrap bg-white border-b scroll-hide px-2 py-2" id="dateTabs">
            <!-- Tabs will be injected by JS -->
        </div>
    </header>

    <!-- Main Content Container -->
    <main class="container mx-auto px-4 pt-40 max-w-md pb-4 relative min-h-screen">
        
        <!-- Schedule View -->
        <div id="scheduleView" class="animate-fade-in">
            <!-- Schedule cards will be injected by JS -->
        </div>

        <!-- Restaurant View -->
        <div id="restaurantView" class="hidden animate-fade-in">
            <!-- Restaurant list will be injected by JS -->
        </div>

    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around items-center py-2 pb-safe z-50 shadow-lg text-xs">
        <button onclick="switchView('schedule')" class="flex flex-col items-center w-1/2 py-2 nav-active" id="nav-schedule">
            <i class="fas fa-calendar-alt text-xl mb-1"></i>
            <span>æ¯æ—¥è¡Œç¨‹</span>
        </button>
        <button onclick="switchView('restaurant')" class="flex flex-col items-center w-1/2 py-2 nav-inactive" id="nav-restaurant">
            <i class="fas fa-utensils text-xl mb-1"></i>
            <span>ç•¶æ—¥ç¾é£Ÿ</span>
        </button>
    </nav>

    <!-- Floating Action Button for Map (Only on Schedule) -->
    <a href="https://www.google.com/maps" target="_blank" id="floatMapBtn" class="fixed bottom-20 right-6 bg-red-700 text-white w-12 h-12 rounded-full shadow-xl hover:bg-red-800 transition transform active:scale-95 flex items-center justify-center z-40 opacity-90">
        <i class="fas fa-map-marked-alt text-lg"></i>
    </a>

    <script>
        // ---------------- Data ----------------
        const itinerary = [
            {
                date: "12/04", day: "é€±å››", city: "Budapest",
                events: [
                    { time: "13:20", title: "æŠµé”å¸ƒé”ä½©æ–¯", icon: "fa-train", desc: "æŠµé” Budapest Keleti ç«è»Šç«™", note: "æ­ M2 åˆ° DeÃ¡k Ferenc tÃ©r" },
                    { time: "14:30", title: "Check-in", icon: "fa-suitcase", desc: "å…¥ä½ Sas utca 6", note: "è–å²è’‚èŠ¬æ•™å ‚æ—" },
                    { time: "16:00", title: "è–å²è’‚èŠ¬æ•™å ‚ + å¸‚é›†", icon: "fa-tree", desc: "é€›å¸‚é›†ï¼Œçœ‹æ•™å ‚å¤–è§€", note: "æ­¥è¡Œå³å¯" },
                    { time: "18:00", title: "åœ‹æœƒå¤§å»ˆå¤œæ™¯", icon: "fa-camera", desc: "å¤šç‘™æ²³ç•”é‹å­ â†’ æ‹å¤œæ™¯", note: "æ²¿æ²³å²¸æ•£æ­¥" },
                    { time: "19:30", title: "æ™šé¤æ™‚é–“", icon: "fa-utensils", desc: "å»ºè­°å‰å¾€ Menza æˆ–æ²³é‚Šé¤å»³", note: "è©³è¦‹ç¾é£Ÿåˆ†é " }
                ],
                restaurants: [
                    { name: "Menza Restaurant", type: "æ™šé¤æ¨è–¦", price: "$$", rate: "4.4", desc: "æ‡·èˆŠé¢¨æ ¼ï¼ŒåŒˆç‰™åˆ©å®¶å¸¸èœã€å¤æ‹‰ä»€æ¹¯", addr: "1061 Budapest, Liszt Ferenc tÃ©r 2" },
                    { name: "KIOSK Budapest", type: "æ™šé¤æ¨è–¦", price: "$$-$$$", rate: "4.3", desc: "æ²³é‚Šæ™¯è§€é¤å»³ï¼Œæ°£æ°›å¥½ï¼Œé©åˆç¬¬ä¸€æ™š", addr: "1056 Budapest, MÃ¡rcius 15. tÃ©r 4" },
                    { name: "VakVarjÃº Pest", type: "æ™šé¤æ¨è–¦", price: "$$", rate: "4.4", desc: "æ°£æ°›æº«é¦¨ï¼Œæœ‰ç¾å ´é‹¼ç´ï¼Œçƒ¤é´¨èƒ¸å¥½åƒ", addr: "1061 Budapest, Paulay Ede utca 7" }
                ]
            },
            {
                date: "12/05", day: "é€±äº”", city: "Budapest",
                events: [
                    { time: "09:00", title: "åŸå ¡å±±å·¡ç¦®", icon: "fa-landmark", desc: "æ¼äººå ¡ã€é¦¬æäºæ–¯æ•™å ‚", note: "æ­ 16 è™Ÿå…¬è»Šä¸Šå±±" },
                    { time: "17:00", title: "â˜… å¤šç‘™æ²³éŠèˆ¹", icon: "fa-ship", desc: "å·²è¨‚ä½ï¼Œçœ‹å¤œæ™¯", note: "ææ—©15åˆ†åˆ°ç¢¼é ­" },
                    { time: "20:00", title: "â˜… EssÃªncia æ™šé¤", icon: "fa-wine-glass", desc: "å·²è¨‚ä½ç±³å…¶æ—ä¸€æ˜Ÿ", note: "å°±åœ¨é£¯åº—é™„è¿‘" }
                ],
                restaurants: [
                    { name: "EssÃªncia Restaurant", type: "â˜… å·²è¨‚ä½ 20:00", price: "$$$$", rate: "4.8", desc: "ç±³å…¶æ—ä¸€æ˜Ÿï¼Œè‘¡è„ç‰™èˆ‡åŒˆç‰™åˆ©èåˆèœ", addr: "1051 Budapest, Sas u. 17" }
                ]
            },
            {
                date: "12/06", day: "é€±å…­", city: "Budapest",
                events: [
                    { time: "09:00", title: "â˜… ä¸­å¤®å¸‚å ´", icon: "fa-shopping-basket", desc: "é€›ç”Ÿé®®ã€è²·éµè‚é†¬ï¼Œåƒ LÃ¡ngos", note: "æ­ Tram 47/49" },
                    { time: "11:30", title: "ç“¦èŒ¨è¡—è³¼ç‰©", icon: "fa-shopping-bag", desc: "VÃ¡ci utca æ­¥è¡Œè¡—", note: "å¹³è·¯å¥½èµ°" },
                    { time: "13:00", title: "åˆé¤æ™‚é–“", icon: "fa-utensils", desc: "é™„è¿‘éš¨æ„åƒæˆ–åƒè€ƒç¾é£Ÿåå–®", note: "è©³è¦‹ç¾é£Ÿåˆ†é " },
                    { time: "15:00", title: "è‡ªç”±æ©‹æ‹ç…§", icon: "fa-camera", desc: "æ©‹ä¸Šæ‹è“‹å‹’ç‰¹å±±æ™¯", note: "è¼•é¬†è¡Œç¨‹" },
                    { time: "19:00", title: "æ™šé¤æ™‚é–“", icon: "fa-utensils", desc: "å»ºè­°åƒéµè…¿æˆ–ç¾©å¼æ–™ç†", note: "è©³è¦‹ç¾é£Ÿåˆ†é " }
                ],
                restaurants: [
                    { name: "Menza Restaurant", type: "åˆé¤é¸é …", price: "$$", rate: "4.4", desc: "å¾©å¤é£Ÿå ‚é¢¨ï¼Œæ¨è–¦è’œé ­æ¹¯ã€é´¨è‚‰ç‡‰é£¯", addr: "1061 Budapest, Liszt Ferenc tÃ©r 2" },
                    { name: "Kiskakukk Ã‰tterem", type: "æ™šé¤é¦–é¸", price: "$$-$$$", rate: "4.5", desc: "è€å­—è™Ÿé¤å»³ï¼Œéµè…¿ã€éµè‚æœ€æœ‰å", addr: "1137 Budapest, Pozsonyi Ãºt 12" },
                    { name: "Hungarikum BisztrÃ³", type: "æ™šé¤å‚™é¸", price: "$$-$$$", rate: "4.7", desc: "è¶…ç†±é–€é“åœ°èœï¼Œè‹¥ç„¡è¨‚ä½éœ€ç¾å ´æ’", addr: "1051 Budapest, Steindl Imre utca 13" },
                    { name: "Trattoria Pomo Dâ€™Oro", type: "æ™šé¤å‚™é¸", price: "$$-$$$", rate: "4.6", desc: "æƒ³æ›å£å‘³åƒç¾©å¤§åˆ©éºµã€æŠ«è–©çš„é¦–é¸", addr: "1051 Budapest, Arany JÃ¡nos utca 9" }
                ]
            },
            {
                date: "12/07", day: "é€±æ—¥", city: "Budapest",
                events: [
                    { time: "09:00", title: "â˜… å¡åˆ‡å°¼æº«æ³‰", icon: "fa-hot-tub", desc: "æˆ¶å¤–å¤§æ± é«”é©—", note: "å¸¶æ³³è¡£æ‹–é‹" },
                    { time: "12:30", title: "åˆé¤æ™‚é–“", icon: "fa-utensils", desc: "åŸå¸‚å…¬åœ’é™„è¿‘ç”¨é¤", note: "è©³è¦‹ç¾é£Ÿåˆ†é " },
                    { time: "14:30", title: "å®‰å¾·æ‹‰ä»€å¤§é“", icon: "fa-road", desc: "æ•£æ­¥çœ‹å»ºç¯‰", note: "é€±æ—¥å•†åº—æ²’é–‹" },
                    { time: "18:00", title: "â˜… PÃ¡risi Passage", icon: "fa-star", desc: "è¯éº—æ‹±å»Šæ™šé¤", note: "å»ºè­°é ç´„" },
                    { time: "20:30", title: "å»¢å¢Ÿé…’å§", icon: "fa-glass-cheers", desc: "Szimpla Kert", note: "å–ä¸€æ¯é«”é©—" }
                ],
                restaurants: [
                    { name: "Paprika VendÃ©glÅ‘", type: "åˆé¤ç†±é–€", price: "$$", rate: "4.6", desc: "å°±åœ¨å…¬åœ’æ—ï¼ŒåŒˆç‰™åˆ©ç‰›è‚‰æ¹¯ã€ç´…æ¤’é›", addr: "1071 Budapest, DÃ³zsa GyÃ¶rgy Ãºt 72" },
                    { name: "VÃ¡rosliget CafÃ©", type: "åˆé¤å‚™é¸", price: "$$-$$$", rate: "4.4", desc: "å¯çœ‹æºœå†°å ´èˆ‡åŸå ¡æ™¯è§€ï¼Œç’°å¢ƒèˆ’é©", addr: "1146 Budapest, Olof Palme sÃ©tÃ¡ny 5" },
                    { name: "Gundel Restaurant", type: "åˆé¤å‚™é¸", price: "$$$", rate: "4.4", desc: "ç™¾å¹´é«˜ç´šååº—ï¼ŒGundel ç…é¤…ç™¼æºåœ°", addr: "1146 Budapest, Gundel KÃ¡roly Ãºt 4" },
                    { name: "PÃ¡risi Passage CafÃ©", type: "æ™šé¤", price: "$$$", rate: "4.5", desc: "å¸ƒé”ä½©æ–¯æœ€ç¾æ‹±å»Šï¼Œæ°£æ°›å¥¢è¯", addr: "1053 Budapest, Ferenciek tere 10" },
                    { name: "Szimpla Kert", type: "é…’å§", price: "$-$$", rate: "4.7", desc: "ä¸–ç•ŒçŸ¥åå»¢å¢Ÿé…’å§ï¼Œå¿…è¨ªæ™¯é»", addr: "1075 Budapest, Kazinczy utca 14" }
                ]
            },
            {
                date: "12/08", day: "é€±ä¸€", city: "Budapest",
                events: [
                    { time: "09:00", title: "çŒ¶å¤ªå€æ•£æ­¥", icon: "fa-synagogue", desc: "å¤§æœƒå ‚ã€å¡—é´‰ç‰†", note: "æ·±åº¦éŠè¦½" },
                    { time: "13:00", title: "æœ€å¾Œæ¡è²·", icon: "fa-shopping-bag", desc: "ç“¦èŒ¨è¡—è²·ä¼´æ‰‹ç¦®", note: "è£œè²¨æ™‚é–“" },
                    { time: "18:30", title: "ç¶²ç¾é¤å»³æ™šé¤", icon: "fa-utensils", desc: "çŒ¶å¤ªå€ç‰¹è‰²æ–™ç†", note: "è©³è¦‹ç¾é£Ÿåˆ†é " }
                ],
                restaurants: [
                    { name: "Mazel Tov", type: "æ™šé¤ç†±é–€", price: "$$-$$$", rate: "4.5", desc: "å»¢å¢Ÿé¢¨èŠ±åœ’é¤å»³ï¼Œä¸­æ±çƒ¤è‚‰ã€é·¹å˜´è±†æ³¥", addr: "1072 Budapest, AkÃ¡cfa utca 47" },
                    { name: "Dobrumba", type: "æ™šé¤å‚™é¸", price: "$$", rate: "4.6", desc: "åœ°ä¸­æµ·æ–™ç†ï¼Œè¨­è¨ˆæ„Ÿå¼·ï¼Œé£Ÿç‰©æ¸…çˆ½", addr: "1074 Budapest, Dob utca 5" },
                    { name: "KÃ©t Szerecsen", type: "æ™šé¤å‚™é¸", price: "$$-$$$", rate: "4.5", desc: "å¾©å¤å·´é»å°é…’é¤¨é¢¨ï¼Œæ—©åˆé¤æ™šé¤éƒ½å¥½åƒ", addr: "1065 Budapest, NagymezÅ‘ utca 14" }
                ]
            },
            {
                date: "12/09", day: "é€±äºŒ", city: "Bp â†’ Vie",
                events: [
                    { time: "13:40", title: "â˜… ç«è»Šå¾€ç¶­ä¹Ÿç´", icon: "fa-train", desc: "Keleti å‡ºç™¼", note: "13:10 å‰åˆ°æœˆå°" },
                    { time: "16:20", title: "æŠµé”ç¶­ä¹Ÿç´", icon: "fa-hotel", desc: "å…¥ä½ Leonardo Hotel", note: "Wien Hbf æ—" },
                    { time: "18:00", title: "å¸‚æ”¿å»³è–èª•å¸‚é›†", icon: "fa-tree", desc: "æœ€å¤§è–èª•å¸‚é›†", note: "æ­åœ°éµè½‰é›»è»Š" },
                    { time: "20:00", title: "è±¬è‚‹æ’æ™šé¤", icon: "fa-beer", desc: "Salm BrÃ¤u", note: "è©³è¦‹ç¾é£Ÿåˆ†é " }
                ],
                restaurants: [
                    { name: "Salm BrÃ¤u", type: "æ™šé¤", price: "$$-$$$", rate: "4.5", desc: "ä¿®é“é™¢æ”¹å»ºï¼Œè‡ªé‡€å•¤é…’ã€çƒ¤è±¬è‚‹æ’å¿…é»", addr: "1030 Wien, Rennweg 8" }
                ]
            },
            {
                date: "12/10", day: "é€±ä¸‰", city: "Vienna",
                events: [
                    { time: "09:00", title: "â˜… ç¾æ³‰å®®", icon: "fa-crown", desc: "å®®æ®¿+èŠ±åœ’", note: "U4 SchÃ¶nbrunn ç«™" },
                    { time: "13:00", title: "ç¾æ³‰å®®å¸‚é›†", icon: "fa-gift", desc: "åƒå°åƒã€å–ç†±ç´…é…’", note: "åˆé¤å¸‚é›†è§£æ±º" },
                    { time: "15:00", title: "ç¾æ™¯å®®", icon: "fa-palette", desc: "çœ‹å…‹æ—å§†ã€Šå»ã€‹", note: "è½‰è»Šç´„30åˆ†" },
                    { time: "19:00", title: "ç‰›è‚‰é‹æ™šé¤", icon: "fa-utensils", desc: "Plachutta", note: "å»ºè­°é ç´„" }
                ],
                restaurants: [
                    { name: "Plachutta Wollzeile", type: "æ™šé¤", price: "$$$", rate: "4.5", desc: "ç¶­ä¹Ÿç´æ¸…ç‡‰ç‰›è‚‰é‹ (Tafelspitz) ååº—", addr: "1010 Wien, Wollzeile 38" },
                    { name: "SchÃ¶nbrunn Market", type: "åˆé¤", price: "$", rate: "4.5", desc: "ç¾æ³‰å®®å¸‚é›†æ”¤ä½ï¼Œé¦™è…¸ã€éºµåŒ…æ¹¯", addr: "SchÃ¶nbrunn Palace, Vienna" }
                ]
            },
            {
                date: "12/11", day: "é€±å››", city: "Vienna",
                events: [
                    { time: "09:30", title: "è—è¡“å²åšç‰©é¤¨", icon: "fa-university", desc: "åƒè§€+åœ“é ‚å’–å•¡", note: "Tram D ç›´é”" },
                    { time: "15:30", title: "è€åŸå’–å•¡å·¡ç¦®", icon: "fa-coffee", desc: "ä¸­å¤®å’–å•¡é¤¨ / Sacher", note: "æ’éšŠååº—" },
                    { time: "19:00", title: "â˜… ç‚¸è±¬æ’æ™šé¤", icon: "fa-utensils", desc: "FiglmÃ¼ller æœ¬åº—", note: "å¿…åƒå·¨å¤§è±¬æ’" }
                ],
                restaurants: [
                    { name: "CafÃ© Central", type: "ä¸‹åˆèŒ¶", price: "$$-$$$", rate: "4.5", desc: "ä¸–ç•Œæœ€ç¾å’–å•¡é¤¨ä¹‹ä¸€ï¼Œçš‡å¸ç…é¤…ã€å’–å•¡", addr: "1010 Wien, Herrengasse 14" },
                    { name: "CafÃ© Sacher Wien", type: "ä¸‹åˆèŒ¶", price: "$$-$$$", rate: "4.4", desc: "Sacher é£¯åº—æ¨“ä¸‹ï¼Œæ­£å®—è–©èµ«è›‹ç³•", addr: "1010 Wien, PhilharmonikerstraÃŸe 4" },
                    { name: "FiglmÃ¼ller Wollzeile", type: "æ™šé¤", price: "$$-$$$", rate: "4.2", desc: "æ¯”è‡‰å¤§ç‚¸è±¬æ’å§‹ç¥–ï¼Œå‹™å¿…å…ˆè¨‚ä½", addr: "1010 Wien, Wollzeile 5" }
                ]
            },
            {
                date: "12/12", day: "é€±äº”", city: "è¿”å®¶",
                events: [
                    { time: "07:40", title: "å‰å¾€æ©Ÿå ´", icon: "fa-plane-departure", desc: "Wien Hbf â†’ VIE", note: "æ­ Railjet" },
                    { time: "10:40", title: "CI64 é£›å°åŒ—", icon: "fa-plane", desc: "å¹³å®‰å›å®¶", note: "See you next time" }
                ],
                restaurants: [
                    { name: "æ©Ÿå ´é¤é£²", type: "æ—©é¤", price: "$$-$$$", rate: "N/A", desc: "ç¶­ä¹Ÿç´æ©Ÿå ´å…§è¼•é£Ÿæˆ–è²´è³“å®¤", addr: "Vienna International Airport" }
                ]
            }
        ];

        let activeDayIndex = 0;
        const dateTabs = document.getElementById('dateTabs');
        const scheduleContainer = document.getElementById('scheduleView');
        const restaurantContainer = document.getElementById('restaurantView');
        const navSchedule = document.getElementById('nav-schedule');
        const navRestaurant = document.getElementById('nav-restaurant');
        const floatMapBtn = document.getElementById('floatMapBtn');

        // ---------------- View Switching Logic ----------------
        function switchView(viewName) {
            if (viewName === 'schedule') {
                scheduleContainer.classList.remove('hidden');
                restaurantContainer.classList.add('hidden');
                floatMapBtn.classList.remove('hidden');
                
                navSchedule.classList.add('nav-active');
                navSchedule.classList.remove('nav-inactive');
                navRestaurant.classList.remove('nav-active');
                navRestaurant.classList.add('nav-inactive');
            } else {
                scheduleContainer.classList.add('hidden');
                restaurantContainer.classList.remove('hidden');
                floatMapBtn.classList.add('hidden');

                navRestaurant.classList.add('nav-active');
                navRestaurant.classList.remove('nav-inactive');
                navSchedule.classList.remove('nav-active');
                navSchedule.classList.add('nav-inactive');
            }
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ---------------- Rendering Logic ----------------
        function renderAll(index) {
            activeDayIndex = index;
            renderTabs();
            renderSchedule(index);
            renderRestaurants(index);
        }

        function renderTabs() {
            dateTabs.innerHTML = '';
            itinerary.forEach((item, index) => {
                const btn = document.createElement('button');
                const isActive = index === activeDayIndex;
                
                btn.className = `px-4 py-2 mx-1 text-sm whitespace-nowrap rounded-t-lg transition-all duration-200 ${
                    isActive 
                    ? 'active-tab' 
                    : 'text-gray-500 hover:text-red-600'
                }`;
                btn.innerHTML = `
                    <div class="font-bold">${item.date}</div>
                    <div class="text-xs">${item.day}</div>
                `;
                btn.onclick = () => {
                    renderAll(index);
                    btn.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                };
                dateTabs.appendChild(btn);
            });
        }

        function renderSchedule(index) {
            const data = itinerary[index];
            scheduleContainer.innerHTML = `
                <div class="mb-4 animate-fade-in">
                    <h2 class="text-2xl font-bold text-gray-800 mb-1 pl-2 border-l-4 border-red-600">${data.city}</h2>
                    <p class="text-sm text-gray-500 pl-3 mb-4">${data.date} (${data.day})</p>
                </div>
            `;

            data.events.forEach(event => {
                const card = document.createElement('div');
                card.className = "bg-white p-4 rounded-xl shadow-sm mb-4 border border-gray-100 day-card";
                
                const isHighlight = event.title.includes('â˜…');
                const titleColor = isHighlight ? 'text-red-700' : 'text-gray-800';
                const bgIcon = isHighlight ? 'bg-red-100 text-red-600' : 'bg-gray-100 text-gray-500';

                card.innerHTML = `
                    <div class="flex items-start">
                        <div class="flex-shrink-0 w-12 text-center mr-3">
                            <span class="block text-sm font-bold text-gray-600">${event.time}</span>
                            <div class="mt-2 w-10 h-10 rounded-full ${bgIcon} flex items-center justify-center mx-auto">
                                <i class="fas ${event.icon}"></i>
                            </div>
                        </div>
                        <div class="flex-grow">
                            <h3 class="font-bold text-lg ${titleColor} leading-tight mb-1">${event.title}</h3>
                            <p class="text-sm text-gray-600 mb-2 leading-relaxed">${event.desc}</p>
                            
                            <div class="bg-yellow-50 p-2 rounded-lg border border-yellow-100 mt-2">
                                <p class="text-xs text-yellow-800 flex items-start">
                                    <i class="fas fa-info-circle mt-0.5 mr-1.5 flex-shrink-0"></i>
                                    <span>${event.note}</span>
                                </p>
                            </div>
                        </div>
                    </div>
                `;
                scheduleContainer.appendChild(card);
            });
            
            // Weather Link
            const searchBtnDiv = document.createElement('div');
            searchBtnDiv.className = "mt-6 mb-10 text-center";
            searchBtnDiv.innerHTML = `
                 <a href="https://www.google.com/search?q=${data.city}+weather+December" target="_blank" class="text-xs text-gray-400 underline">æŸ¥çœ‹ç•¶åœ°å¤©æ°£</a>
            `;
            scheduleContainer.appendChild(searchBtnDiv);
        }

        function renderRestaurants(index) {
            const data = itinerary[index];
            let content = `
                <div class="mb-4">
                    <h2 class="text-2xl font-bold text-gray-800 mb-1 pl-2 border-l-4 border-red-600">
                        ${data.date} ç¾é£Ÿåœ°åœ–
                    </h2>
                    <p class="text-sm text-gray-500 pl-3">ç•¶æ—¥æ¨è–¦é¤å»³ (é»æ“Šå°èˆª)</p>
                </div>
            `;

            if (data.restaurants && data.restaurants.length > 0) {
                data.restaurants.forEach(r => {
                    const mapQuery = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(r.name + ' ' + r.addr)}`;
                    
                    content += `
                        <div class="bg-white p-4 rounded-xl shadow-sm mb-4 border border-gray-100 flex flex-col relative overflow-hidden">
                            <div class="flex justify-between items-start mb-2">
                                <div>
                                    <h3 class="font-bold text-lg text-gray-800 leading-tight">${r.name}</h3>
                                    <div class="text-xs text-gray-500 mt-1 flex items-center">
                                        <span class="bg-red-100 text-red-600 px-2 py-0.5 rounded mr-2">${r.type}</span>
                                        <span class="mr-2"><i class="fas fa-coins text-yellow-500 text-xs"></i> ${r.price}</span>
                                        <span><i class="fas fa-star text-yellow-400 text-xs"></i> ${r.rate}</span>
                                    </div>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 mb-3 line-clamp-2">${r.desc}</p>
                            
                            <a href="${mapQuery}" target="_blank" class="mt-auto w-full bg-red-50 text-red-700 py-2 rounded-lg text-center font-medium text-sm hover:bg-red-100 transition flex items-center justify-center">
                                <i class="fas fa-location-arrow mr-2"></i> å°èˆªå»é€™è£¡
                            </a>
                        </div>
                    `;
                });
            } else {
                content += `
                    <div class="text-center py-10 text-gray-400">
                        <i class="fas fa-utensils text-4xl mb-3"></i>
                        <p>æœ¬æ—¥ç„¡ç‰¹å®šæ¨è–¦é¤å»³<br>å¯åƒè€ƒè¡Œç¨‹ä¸­çš„è‡ªç”±è¦“é£Ÿæ™‚é–“</p>
                    </div>
                `;
            }
            
            content += `<div class="h-8"></div>`;
            restaurantContainer.innerHTML = content;
        }

        // Initialize
        renderAll(0);

    </script>
</body>
</html>
