<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>é›™åŸå†¬å­£ä¹‹æ—…</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; -webkit-tap-highlight-color: transparent; overscroll-behavior-y: none; }
        .day-card { transition: all 0.3s ease; }
        .hidden-content { display: none; }
        .active-tab { border-bottom: 2px solid #b91c1c; color: #b91c1c; font-weight: bold; }
        .scroll-hide::-webkit-scrollbar { display: none; }
        .scroll-hide { -ms-overflow-style: none; scrollbar-width: none; }
        .nav-active { color: #b91c1c; font-weight: bold; }
        .nav-inactive { color: #9ca3af; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 pb-24 select-none">

    <!-- Header -->
    <header class="fixed top-0 left-0 right-0 bg-white shadow-md z-50">
        <div class="px-4 py-3 bg-red-800 text-white flex justify-between items-center shadow-sm">
            <div class="flex items-center">
                <div class="mr-3 text-2xl">ğŸ‡¦ğŸ‡¹</div>
                <div>
                    <h1 class="text-lg font-bold tracking-wide">å†¬æ—¥é›™åŸéŠ</h1>
                    <p class="text-xs text-red-200">2025/12/04 - 12/12</p>
                </div>
            </div>
        </div>
        
        <!-- Date Slider (Only shown in Schedule View) -->
        <div class="flex overflow-x-auto whitespace-nowrap bg-white border-b scroll-hide px-2 py-2 transition-all duration-300" id="dateTabs">
            <!-- Tabs will be injected by JS -->
        </div>
    </header>

    <!-- Main Content Container -->
    <main class="container mx-auto px-4 pt-32 max-w-md pb-4 relative">
        
        <!-- Schedule View -->
        <div id="scheduleView" class="animate-fade-in">
            <!-- Schedule cards will be injected by JS -->
        </div>

        <!-- Restaurant View -->
        <div id="restaurantView" class="hidden animate-fade-in pt-2">
            <!-- Restaurant list will be injected by JS -->
        </div>

    </main>

    <!-- Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around items-center py-2 pb-safe z-50 shadow-lg text-xs">
        <button onclick="switchView('schedule')" class="flex flex-col items-center w-1/2 py-2 nav-active" id="nav-schedule">
            <i class="fas fa-calendar-alt text-xl mb-1"></i>
            <span>æ¯æ—¥è¡Œç¨‹</span>
        </button>
        <button onclick="switchView('restaurant')" class="flex flex-col items-center w-1/2 py-2 nav-inactive" id="nav-restaurant">
            <i class="fas fa-utensils text-xl mb-1"></i>
            <span>ç¾é£Ÿé¤å»³</span>
        </button>
    </nav>

    <!-- Floating Action Button for Map (Only on Schedule) -->
    <a href="https://www.google.com/maps" target="_blank" id="floatMapBtn" class="fixed bottom-20 right-6 bg-red-700 text-white w-12 h-12 rounded-full shadow-xl hover:bg-red-800 transition transform active:scale-95 flex items-center justify-center z-40 opacity-80">
        <i class="fas fa-map-marked-alt text-lg"></i>
    </a>

    <script>
        // ---------------- Data ----------------
        const itinerary = [
            {
                date: "12/04", day: "é€±å››", city: "Budapest",
                events: [
                    { time: "13:20", title: "æŠµé”å¸ƒé”ä½©æ–¯", icon: "fa-train", desc: "æŠµé” Budapest Keleti ç«è»Šç«™ (ç”±ç¶­ä¹Ÿç´ 10:45 å‡ºç™¼)", note: "å‡ºç«™å¾Œæ­åœ°éµ M2 åˆ° DeÃ¡k Ferenc tÃ©rï¼Œå†èµ°è·¯ 5 åˆ†é˜åˆ°é£¯åº—" },
                    { time: "14:30", title: "Check-in + ç°¡å–®ä¼‘æ¯", icon: "fa-suitcase", desc: "å…¥ä½ Sas utca 6ï¼Œæ•´ç†è¡Œæã€æ´—å€‹è‡‰é†’è…¦", note: "é£¯åº—å°±åœ¨è–å²è’‚èŠ¬æ•™å ‚æ—ï¼Œåœ°é»è¶…ä¸­å¿ƒ" },
                    { time: "16:00", title: "è–å²è’‚èŠ¬æ•™å ‚ + è–èª•å¸‚é›†", icon: "fa-tree", desc: "æ•™å ‚å»£å ´é€›å¸‚é›†ï¼Œçœ‹æ•™å ‚å¤–è§€ã€é˜æ¨“ (å¯ä¸Šå¡”çœ‹æ™¯)", note: "å…¨ç¨‹æ­¥è¡Œï¼Œæ™šä¸Šå†å›ä¾†ä¹Ÿæ–¹ä¾¿" },
                    { time: "18:00", title: "åœ‹æœƒå¤§å»ˆå¤œæ™¯ + éµé‹ç´€å¿µç¢‘", icon: "fa-camera", desc: "èµ°åˆ°ã€Œå¤šç‘™æ²³ç•”çš„é‹å­ã€â†’ å°é¢æ‹åœ‹æœƒå¤§å»ˆå¤œæ™¯", note: "æ²¿æ²³å²¸æ•£æ­¥å›ç¨‹" },
                    { time: "19:30", title: "ç¬¬ä¸€æ™šæ™šé¤", icon: "fa-utensils", desc: "å¸‚ä¸­å¿ƒé¤å»³ï¼šâ‘  Menza (æ‡·èˆŠåŒˆç‰™åˆ©èœ) â‘¡ Kiosk (æ²³é‚Šæ™¯è§€é¤å»³) â‘¢ VakVarjÃº", note: "éƒ½å¯ç¾å ´å€™ä½ï¼Œæƒ³ä¿éšªå¯å‰ä¸€å¤©ç·šä¸Šè¨‚ä½" }
                ]
            },
            {
                date: "12/05", day: "é€±äº”", city: "Budapest",
                events: [
                    { time: "09:00", title: "åŸå ¡å±±å·¡ç¦®", icon: "fa-landmark", desc: "DeÃ¡k Ferenc tÃ©r æ­ 16 è™Ÿå…¬è»Š â†’ æ¼äººå ¡ã€é¦¬æäºæ–¯æ•™å ‚ã€ä¸‰ä¸€å»£å ´", note: "å»ºè­°ä¸Šå±±æ­è»Šï¼Œä¸‹å±±èµ°è·¯" },
                    { time: "11:00", title: "åŸå ¡å€å’–å•¡æ™‚é–“", icon: "fa-coffee", desc: "Ruszwurm ç”œé»åº—åƒè›‹ç³• + å’–å•¡", note: "è€åº—ï¼Œå°å°ä¸€é–“ï¼Œäººå¤šå¯æ”¹é™„è¿‘å…¶ä»–å’–å•¡é¤¨" },
                    { time: "13:00", title: "å¸ƒé”çš‡å®® + ä¸‹å±±", icon: "fa-walking", desc: "é †è‘—çš‡å®®å€æ•£æ­¥ï¼Œä¸‹å±±å¾€æ²³é‚Šèˆ‡é–éˆæ©‹æ–¹å‘èµ°", note: "ä¸­é–“å¯æ‰¾æ™¯é»æ‹ç…§" },
                    { time: "16:30", title: "å‰å¾€æ¸¸èˆ¹ç¢¼é ­", icon: "fa-ship", desc: "å¾é£¯åº—æ­¥è¡Œ 10-15 åˆ†é˜åˆ°å¤šç‘™æ²³ç¢¼é ­ (Dock 7-10 ä¸€å¸¶)", note: "å»ºè­°ææ—© 15 åˆ†é˜åˆ°" },
                    { time: "17:00", title: "â˜… å¤šç‘™æ²³éŠèˆ¹", icon: "fa-star", desc: "å·²è¨‚ 17:00 ç­ï¼Œé‚ŠéŠèˆ¹é‚Šçœ‹åœ‹æœƒèˆ‡å…©å²¸å¤œæ™¯", note: "å†¬å¤© 16:00 å¾Œå¤©é»‘ï¼Œé€™æ™‚æ®µæœ€æ¼‚äº®" },
                    { time: "20:00", title: "â˜… EssÃªncia æ™šé¤", icon: "fa-wine-glass", desc: "å·²è¨‚ EssÃªncia Restaurant (ç±³å…¶æ—ä¸€æ˜Ÿ)", note: "å°±åœ¨ Sas utca ä¸Šï¼Œé›¢é£¯åº—è¶…è¿‘ï¼Œä¸ç”¨æ“”å¿ƒäº¤é€š" }
                ]
            },
            {
                date: "12/06", day: "é€±å…­", city: "Budapest",
                events: [
                    { time: "09:00", title: "â˜… Central Market Hall (ä¸­å¤®å¸‚å ´)", icon: "fa-shopping-basket", desc: "é€› 1 æ¨“ç”Ÿé®®ã€2 æ¨“ç´€å¿µå“å€ï¼Œåƒ LÃ¡ngos ç•¶æ—©åˆé¤", note: "é€±æ—¥å…¬ä¼‘ï¼Œå¿…æ’ä»Šå¤©ï¼›æ­ Tram 47/49 æˆ– M3" },
                    { time: "11:30", title: "ç“¦èŒ¨è¡—è³¼ç‰©å€", icon: "fa-shopping-bag", desc: "é€› VÃ¡ci utca æ­¥è¡Œè¡—èˆ‡ Fashion Street (Zara/Mango/H&M)", note: "EW èº«é«”ä¸é©ä¹Ÿèƒ½è¼•é¬†é€›" },
                    { time: "13:00", title: "åˆé¤ (3é¸1)", icon: "fa-utensils", desc: "â‘  Menza (å¾©å¤é£Ÿå ‚) â‘¡ Kiosk (æ²³æ™¯) â‘¢ VakVarjÃº (æ°£æ°›å¥½)", note: "éƒ½å¯ç¾å ´å€™ä½ï¼Œä¸éœ€è¨‚ä½" },
                    { time: "15:00", title: "è‡ªç”±æ©‹ â†’ è“‹å‹’ç‰¹å±±è…³æ‹ç…§", icon: "fa-camera", desc: "èµ°éè‡ªç”±æ©‹ï¼Œåœ¨è“‹å‹’ç‰¹å±±è…³æ‹å¸ƒé”å…¨æ™¯ (ä¸ç”¨çˆ¬å±±)", note: "è¼•é¬†ã€ä¸è²»é«”åŠ›" },
                    { time: "16:30", title: "è–å²è’‚èŠ¬æ•™å ‚å¸‚é›†", icon: "fa-tree", desc: "å›é£¯åº—æ”¾æ±è¥¿ â†’ ä¸‹æ¨“é€›å¸‚é›† â†’ çœ‹ 3D ç‡ˆå…‰ç§€", note: "é£¯åº—å°±åœ¨æ•™å ‚æ—ï¼Œç´¯äº†é¦¬ä¸Šå›æˆ¿" },
                    { time: "19:00", title: "æ™šé¤ (3é¸1)", icon: "fa-utensils", desc: "â‘  Kiskakukk (éµè…¿è€åº—/æœ€å¥½è¨‚ä½) â‘¡ Hungarikum (å¾ˆç†±é–€) â‘¢ Pomo Dâ€™ Oro (ç¾©å¼)", note: "é€±å…­å»ºè­° Kiskakukk æœ€ä¿éšª" },
                    { time: "21:00", title: "å›é£¯åº—ä¼‘æ¯", icon: "fa-bed", desc: "æº–å‚™éš”å¤©æ³¡æº«æ³‰", note: "è‡ªç”±å®‰æ’" }
                ]
            },
            {
                date: "12/07", day: "é€±æ—¥", city: "Budapest",
                events: [
                    { time: "09:00", title: "â˜… å¡åˆ‡å°¼æº«æ³‰ (é€±æ—¥æ”¹æ³¡)", icon: "fa-hot-tub", desc: "é«”é©—æˆ¶å¤–å¤§æ± èˆ‡è’¸æ°£å®¤ï¼›é€±æ—¥æ—©ä¸Šäººè¼ƒå°‘", note: "å¸¶æ³³è¡£ã€æ¯›å·¾ã€æ‹–é‹ï¼›å¯ç§Ÿ Locker æˆ– Cabin" },
                    { time: "11:30", title: "è‹±é›„å»£å ´", icon: "fa-monument", desc: "HÅ‘sÃ¶k tere åŸå¸‚åœ°æ¨™ï¼Œå¾æº«æ³‰æ­¥è¡Œ3åˆ†é˜", note: "å…‰ç·šå¥½ã€ç…§ç‰‡æ¼‚äº®" },
                    { time: "12:00", title: "åŸå¸‚å…¬åœ’ City Park", icon: "fa-tree", desc: "æ¹–ç•”æ•£æ­¥ã€æ‹ Vajdahunyad åŸå ¡", note: "é€±æ—¥æœ€é©åˆæˆ¶å¤–è¡Œç¨‹" },
                    { time: "12:30", title: "åˆé¤ (3é¸1)", icon: "fa-utensils", desc: "â‘  Paprika (è¶…äººæ°£) â‘¡ VÃ¡rosliget CafÃ© (æ¹–æ™¯) â‘¢ Gundel (ç™¾å¹´ååº—)", note: "Paprika è¦æ’éšŠï¼›æƒ³è¼•é¬†é¸ CafÃ© æˆ– Gundel" },
                    { time: "14:30", title: "å®‰å¾·æ‹‰ä»€å¤§é“ (ä¸–ç•Œéºç”¢)", icon: "fa-road", desc: "å¾ Oktogon æ²¿å¤§é“èµ°åˆ°æ­ŒåŠ‡é™¢é™„è¿‘ï¼Œæ¬£è³å»ºç¯‰", note: "é€±æ—¥å•†åº—é›–é—œï¼Œä½†è¡—æ™¯å¾ˆç¾" },
                    { time: "16:00", title: "ææ€–ä¹‹å±‹ / æ­ŒåŠ‡é™¢ (é¸æ“‡æ€§)", icon: "fa-building", desc: "ææ€–ä¹‹å±‹é€±æ—¥æœ‰é–‹ï¼›æ­ŒåŠ‡é™¢æ‹å¤–è§€å³å¯", note: "ä¾é«”åŠ›æ±ºå®šæ˜¯å¦é€²é¤¨" },
                    { time: "18:00", title: "â˜… PÃ¡risi Passage CafÃ© (æ™šé¤)", icon: "fa-star", desc: "è¯éº—ç»ç’ƒç©¹é ‚ï¼Œæ¯”ç´ç´„å’–å•¡é¤¨èˆ’æœï¼Œé©åˆæœ€å¾Œä¸€æ™š", note: "å»ºè­°é ç´„ï¼›ä¹Ÿå¯ç¾å ´æ’" },
                    { time: "20:30", title: "Szimpla Kert å»¢å¢Ÿé…’å§", icon: "fa-glass-cheers", desc: "é«”é©—ä¸–ç•Œæœ‰åå»¢å¢Ÿé…’å§ï¼Œå–ä¸€æ¯å³å¯", note: "å¯æ­ Bolt å›é£¯åº—" }
                ]
            },
            {
                date: "12/08", day: "é€±ä¸€", city: "Budapest",
                events: [
                    { time: "09:00", title: "çŒ¶å¤ªå€æ·±åº¦èµ°è¨ª", icon: "fa-synagogue", desc: "DohÃ¡ny è¡—æœƒå ‚ (æ­æ´²æœ€å¤§çŒ¶å¤ªæœƒå ‚) â†’ çŒ¶å¤ªå€è¡—é“å¡—é´‰èˆ‡å°åº—", note: "å¯æå‰ä¸Šç¶²çœ‹æ˜¯å¦éœ€é ç´„å°è¦½" },
                    { time: "13:00", title: "ç“¦èŒ¨è¡— & å¤šç‘™æ²³æ­¥é“", icon: "fa-shopping-bag", desc: "é€› VÃ¡ci utca æ­¥è¡Œè¡—ï¼Œæœ€å¾Œè£œè²·ä¼´æ‰‹ç¦® â†’ æ²¿æ²³é‚Šæ•£æ­¥å›å¸‚ä¸­å¿ƒ", note: "é€™å¤©åšç‰©é¤¨å¤šä¼‘ï¼Œå®‰æ’è³¼ç‰©æœ€å®‰å…¨" },
                    { time: "18:30", title: "çŒ¶å¤ªå€ç¶²ç¾é¤å»³æ™šé¤", icon: "fa-utensils", desc: "â‘  Mazel Tov (èŠ±åœ’é¢¨ä¸­æ±èœ) â‘¡ Dobrumba (ä¸­æ±+åœ°ä¸­æµ·) â‘¢ Ket Szerecsen", note: "ç†±é–€ä½†é€šå¸¸å¯ç¾å ´å€™ä½ï¼Œä¿éšªèµ·è¦‹å¯ç°¡å–®è¨‚ä½" }
                ]
            },
            {
                date: "12/09", day: "é€±äºŒ", city: "Bp â†’ Vie",
                events: [
                    { time: "ä¸Šåˆ", title: "æœ€å¾Œæ•£æ­¥ + æ”¶è¡Œæ", icon: "fa-suitcase", desc: "é™„è¿‘å’–å•¡é¤¨åƒæ—©é¤ï¼Œéš¨æ„åœ¨è–å²è’‚èŠ¬æ•™å ‚å‘¨é‚Šèµ°èµ°æ‹ç…§", note: "é ç•™æ™‚é–“å›é£¯åº—æ‹¿è¡Œæ" },
                    { time: "13:40", title: "â˜… ç«è»Šå‰å¾€ç¶­ä¹Ÿç´", icon: "fa-train", desc: "Budapest Keleti æ­ 13:40 ç­æ¬¡å‰å¾€ Wien Hbf", note: "å»ºè­° 13:10 å‰æŠµé”æœˆå°" },
                    { time: "16:20", title: "æŠµé”ç¶­ä¹Ÿç´ + Check-in", icon: "fa-hotel", desc: "æŠµé” Wien Hbf â†’ èµ°è·¯ 3 åˆ†é˜åˆ° Leonardo Hotel Vienna Hauptbahnhof", note: "æ”¾å¥½è¡Œæç¨ä½œä¼‘æ¯" },
                    { time: "18:00", title: "å¸‚æ”¿å»³è–èª•å¸‚é›†", icon: "fa-tree", desc: "Rathausplatz æœ€å¤§è–èª•å¸‚é›†ï¼šç‡ˆæµ· + æºœå†°å ´", note: "å¾ Hbf è½ U1 åˆ° Karlsplatz è½‰ Tram D" },
                    { time: "20:00", title: "Salm BrÃ¤u æ™šé¤", icon: "fa-beer", desc: "ä¿®é“é™¢å•¤é…’ï¼‹è±¬è‚‹æ’è¶…æœ‰åï¼Œä¹Ÿæœ‰ç‚¸è±¬æ’èˆ‡å…¶ä»–å¾·å¥§èœ", note: "å¯äº‹å…ˆè¨‚ä½ï¼Œä¹Ÿå¸¸æœ‰ç¾å ´ä½" }
                ]
            },
            {
                date: "12/10", day: "é€±ä¸‰", city: "Vienna",
                events: [
                    { time: "09:00", title: "â˜… ç¾æ³‰å®® SchÃ¶nbrunn", icon: "fa-crown", desc: "åƒè§€å®®æ®¿å…§éƒ¨ + å¾ŒèŠ±åœ’ + å±±ä¸˜ Gloriette æ™¯è§€å°", note: "å¾ Hbf æ­ U1 è½‰ U4 æŠµé” SchÃ¶nbrunn ç«™" },
                    { time: "13:00", title: "ç¾æ³‰å®®è–èª•å¸‚é›†", icon: "fa-gift", desc: "åœ¨å®®æ®¿å‰å»£å ´é€›å¸‚é›†ã€åƒç†±ç´…é…’èˆ‡å°åƒ", note: "æ‹ç…§å¾ˆå¥½çœ‹" },
                    { time: "15:00", title: "ç¾æ™¯å®® Belvedere", icon: "fa-palette", desc: "ä¸Šå®®åƒè§€ Klimtã€Šå»ã€‹ + å‰åº­æ¹–æ™¯ã€è–èª•å¸‚é›†", note: "å¾ SchÃ¶nbrunn æ­è»Šç´„ 30 åˆ†é˜åˆ° Belvedere å€" },
                    { time: "19:00", title: "Plachutta æ™šé¤", icon: "fa-utensils", desc: "æ¸…ç‡‰ç‰›è‚‰é‹ Tafelspitz æ‹›ç‰Œæ–™ç†", note: "å»ºè­°é ç´„ï¼›è‹¥æ‡¶å¾—è¨‚ä½ï¼Œå¯æ”¹é™„è¿‘ä¸€èˆ¬é¤é¤¨æˆ–è¶…å¸‚è²·æ±è¥¿å›é£¯åº—åƒ" }
                ]
            },
            {
                date: "12/11", day: "é€±å››", city: "Vienna",
                events: [
                    { time: "09:30", title: "è—è¡“å²åšç‰©é¤¨ + åœ“é ‚å’–å•¡é¤¨", icon: "fa-university", desc: "åƒè§€ Kunsthistorisches Museum ï¼Œé¤¨å…§åœ“é ‚å’–å•¡é¤¨åƒæ—©åˆé¤", note: "å¾ Hbf æ­ Tram D ç›´é” Burgring" },
                    { time: "13:00", title: "éœå¤«å ¡èˆ‡åœ‹å®¶åœ–æ›¸é¤¨", icon: "fa-book", desc: "éœå¤«å ¡çš‡å®®å¤–è§€ã€è‹±é›„å»£å ´ï¼Œå¥§åœ°åˆ©åœ‹å®¶åœ–æ›¸é¤¨å…§éƒ¨å¤§å»³", note: "éƒ½åœ¨æ­¥è¡Œè·é›¢å…§" },
                    { time: "15:30", title: "è€åŸå€ & å’–å•¡é¤¨å·¡ç¦®", icon: "fa-coffee", desc: "å¾ Graben / Kohlmarkt é€›åˆ°å²è’‚èŠ¬å¤§æ•™å ‚ â†’ â‘  CafÃ© Central â‘¡ CafÃ© Sacher äºŒé¸ä¸€å–å’–å•¡åƒè›‹ç³•", note: "ä¹Ÿå¯é †è·¯é€›ç™¾è²¨ Steffl æˆ– Peek & Cloppenburg" },
                    { time: "19:00", title: "â˜… FiglmÃ¼ller ç‚¸è±¬æ’", icon: "fa-utensils", desc: "ç¶­ä¹Ÿç´æœ€æœ‰åçš„å·¨å¤§ç‚¸è±¬æ’ï¼Œå»ºè­°å» Wollzeile æœ¬åº—", note: "æœ€å¥½å…ˆç·šä¸Šè¨‚ä½ï¼›ä¸æƒ³è¨‚ä½å°±æ—©é»å»æ’éšŠ" }
                ]
            },
            {
                date: "12/12", day: "é€±äº”", city: "è¿”å®¶",
                events: [
                    { time: "07:40", title: "å‰å¾€æ©Ÿå ´", icon: "fa-plane-departure", desc: "å¾ Wien Hbf æ­ Railjet / S7 / CAT è‡³ VIE æ©Ÿå ´", note: "è‡³å°‘é ç•™ 3 å°æ™‚ï¼ˆå«é€šå‹¤ï¼‹è¾¦ç†ç™»æ©Ÿï¼‰" },
                    { time: "10:40", title: "CI64 ç¶­ä¹Ÿç´ â†’ å°åŒ—", icon: "fa-plane", desc: "è¾¦ç†ç™»æ©Ÿã€å‡ºé—œï¼Œæº–å‚™è¿”å°", note: "ç¥æ—…é€”å¹³å®‰é †åˆ©" }
                ]
            }
        ];

        const restaurants = {
            budapest: [
                { name: "Menza Restaurant & CafÃ©", type: "åˆé¤/æ™šé¤", price: "$$", rate: "4.4", desc: "åŒˆç‰™åˆ©å®¶å¸¸èœã€å¤æ‹‰ä»€æ¹¯ã€é´¨è‚‰", addr: "1061 Budapest, Liszt Ferenc tÃ©r 2" },
                { name: "KIOSK Budapest", type: "åˆé¤/æ™šé¤", price: "$$-$$$", rate: "4.3", desc: "ç¾ä»£åŒˆç‰™åˆ©èœã€ç‡‰ç‰›è‚‰ã€æ°£æ°›å¥½", addr: "1056 Budapest, MÃ¡rcius 15. tÃ©r 4" },
                { name: "VakVarjÃº Pest", type: "åˆé¤/æ™šé¤", price: "$$", rate: "4.4", desc: "çƒ¤çƒ¤çˆ LÃ¡ngosã€ç«ç‘°é´¨èƒ¸ã€å‰µæ„èœ", addr: "1061 Budapest, Paulay Ede utca 7" },
                { name: "Kiskakukk Ã‰tterem", type: "æ™šé¤é¦–é¸", price: "$$-$$$", rate: "4.5", desc: "éµè…¿ã€éµè‚ã€å‚³çµ±åŒˆç‰™åˆ©æ¹¯å“", addr: "1137 Budapest, Pozsonyi Ãºt 12" },
                { name: "Hungarikum BisztrÃ³", type: "æ™šé¤å‚™é¸", price: "$$-$$$", rate: "4.7", desc: "é“åœ°åŒˆç‰™åˆ©èœï¼šå¤æ‹‰ä»€ã€è¾£æ¤’ç‡‰è‚‰", addr: "1051 Budapest, Steindl Imre utca 13" },
                { name: "Trattoria Pomo Dâ€™Oro", type: "æ™šé¤å‚™é¸", price: "$$-$$$", rate: "4.6", desc: "ç¾©å¤§åˆ©éºµã€æŠ«è–©ã€ç‡‰é£¯ï¼Œæ›å£å‘³é¦–é¸", addr: "1051 Budapest, Arany JÃ¡nos utca 9" },
                { name: "Paprika VendÃ©glÅ‘", type: "åˆé¤ç†±é–€", price: "$$", rate: "4.6", desc: "åŒˆç‰™åˆ©ç‰›è‚‰æ¹¯ã€ç…™å›ªè‚‰ã€è¾£æ¤’ç‡‰é›", addr: "1071 Budapest, DÃ³zsa GyÃ¶rgy Ãºt 72" },
                { name: "VÃ¡rosliget CafÃ©", type: "åˆé¤å‚™é¸", price: "$$-$$$", rate: "4.4", desc: "çœ‹åŸå¸‚å…¬åœ’æ¹–æ™¯ï¼Œè¥¿é¤+åŒˆç‰™åˆ©èœ", addr: "1146 Budapest, Olof Palme sÃ©tÃ¡ny 5" },
                { name: "Gundel Restaurant", type: "åˆé¤å‚™é¸", price: "$$$", rate: "4.4", desc: "ç™¾å¹´è€åº—ï¼ŒGundel ç…é¤…ã€ç¶“å…¸é«˜ç´šèœ", addr: "1146 Budapest, Gundel KÃ¡roly Ãºt 4" },
                { name: "PÃ¡risi Passage CafÃ©", type: "æ™šé¤", price: "$$$", rate: "4.5", desc: "ç»ç’ƒç©¹é ‚è¶…è¯éº—ã€ç¾ä»£æ­é™¸æ–™ç†", addr: "1053 Budapest, Ferenciek tere 10" },
                { name: "Szimpla Kert", type: "é…’å§", price: "$-$$", rate: "4.7", desc: "ä¸–ç•ŒçŸ¥åå»¢å¢Ÿé…’å§ï¼Œä¸»æ‰“æ°£æ°›èˆ‡è£æ½¢", addr: "1075 Budapest, Kazinczy utca 14" },
                { name: "Mazel Tov", type: "æ™šé¤", price: "$$-$$$", rate: "4.5", desc: "ä¸­æ±çƒ¤è‚‰ã€é·¹å˜´è±†æ³¥ã€èŠ±åœ’é¤å»³", addr: "1072 Budapest, AkÃ¡cfa utca 47" },
                { name: "Dobrumba", type: "æ™šé¤", price: "$$", rate: "4.6", desc: "åœ°ä¸­æµ·+ä¸­æ± mezzeã€å°èœã€é·¹å˜´è±†æ³¥", addr: "1074 Budapest, Dob utca 5" }
            ],
            vienna: [
                { name: "Salm BrÃ¤u", type: "æ™šé¤", price: "$$-$$$", rate: "4.5", desc: "ä¿®é“é™¢å•¤é…’é¤¨é¢¨ï¼Œè±¬è…³ã€ç‚¸è±¬æ’ã€å•¤é…’", addr: "1030 Wien, Rennweg 8" },
                { name: "Plachutta Wollzeile", type: "æ™šé¤", price: "$$$", rate: "4.5", desc: "æ‹›ç‰Œ Tafelspitz (æ¸…ç‡‰ç‰›è‚‰)ï¼Œéå¸¸æœ‰å", addr: "1010 Wien, Wollzeile 38" },
                { name: "CafÃ© Central", type: "ä¸‹åˆå’–å•¡", price: "$$-$$$", rate: "4.5", desc: "æ­·å²å’–å•¡é¤¨ï¼Œè›‹ç³•ã€å’–å•¡ã€å…§è£è¶…ç¾", addr: "1010 Wien, Herrengasse 14" },
                { name: "CafÃ© Sacher Wien", type: "ä¸‹åˆå‚™é¸", price: "$$-$$$", rate: "4.4", desc: "åŸå‰µ Sacher-Torteï¼Œæœ¬äººä¾†åƒæ‹›ç‰Œè›‹ç³•", addr: "1010 Wien, PhilharmonikerstraÃŸe 4" },
                { name: "FiglmÃ¼ller Wollzeile", type: "æ™šé¤", price: "$$-$$$", rate: "4.2", desc: "å·¨å¤§ç¶­ä¹Ÿç´ç‚¸è±¬æ’ï¼Œéå¸¸æœ‰åï¼Œå»ºè­°è¨‚ä½", addr: "1010 Wien, Wollzeile 5" }
            ]
        };

        const dateTabs = document.getElementById('dateTabs');
        const scheduleContainer = document.getElementById('scheduleView');
        const restaurantContainer = document.getElementById('restaurantView');
        const navSchedule = document.getElementById('nav-schedule');
        const navRestaurant = document.getElementById('nav-restaurant');
        const floatMapBtn = document.getElementById('floatMapBtn');

        // ---------------- View Switching Logic ----------------
        function switchView(viewName) {
            if (viewName === 'schedule') {
                scheduleContainer.classList.remove('hidden');
                restaurantContainer.classList.add('hidden');
                dateTabs.classList.remove('h-0', 'opacity-0', 'overflow-hidden', 'py-0');
                dateTabs.classList.add('py-2');
                floatMapBtn.classList.remove('hidden');
                
                navSchedule.classList.add('nav-active');
                navSchedule.classList.remove('nav-inactive');
                navRestaurant.classList.remove('nav-active');
                navRestaurant.classList.add('nav-inactive');
                
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else {
                scheduleContainer.classList.add('hidden');
                restaurantContainer.classList.remove('hidden');
                
                // Hide Date Tabs smoothly
                dateTabs.classList.add('h-0', 'opacity-0', 'overflow-hidden', 'py-0');
                dateTabs.classList.remove('py-2');
                floatMapBtn.classList.add('hidden');

                navRestaurant.classList.add('nav-active');
                navRestaurant.classList.remove('nav-inactive');
                navSchedule.classList.remove('nav-active');
                navSchedule.classList.add('nav-inactive');

                renderRestaurants();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // ---------------- Schedule Rendering ----------------
        function renderTabs(activeIndex) {
            dateTabs.innerHTML = '';
            itinerary.forEach((item, index) => {
                const btn = document.createElement('button');
                btn.className = `px-4 py-2 mx-1 text-sm whitespace-nowrap rounded-t-lg transition-colors ${
                    index === activeIndex 
                    ? 'active-tab bg-red-50 text-red-700' 
                    : 'text-gray-500 hover:text-red-600'
                }`;
                btn.innerHTML = `
                    <div class="font-bold">${item.date}</div>
                    <div class="text-xs">${item.day}</div>
                `;
                btn.onclick = () => {
                    renderSchedule(index);
                    renderTabs(index);
                    btn.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                };
                dateTabs.appendChild(btn);
            });
        }

        function renderSchedule(index) {
            const data = itinerary[index];
            scheduleContainer.innerHTML = `
                <div class="mb-4 animate-fade-in">
                    <h2 class="text-2xl font-bold text-gray-800 mb-1 pl-2 border-l-4 border-red-600">${data.city}</h2>
                    <p class="text-sm text-gray-500 pl-3 mb-4">${data.date} (${data.day})</p>
                </div>
            `;

            data.events.forEach(event => {
                const card = document.createElement('div');
                card.className = "bg-white p-4 rounded-xl shadow-sm mb-4 border border-gray-100 day-card";
                
                const isHighlight = event.title.includes('â˜…');
                const titleColor = isHighlight ? 'text-red-700' : 'text-gray-800';
                const bgIcon = isHighlight ? 'bg-red-100 text-red-600' : 'bg-gray-100 text-gray-500';

                card.innerHTML = `
                    <div class="flex items-start">
                        <div class="flex-shrink-0 w-12 text-center mr-3">
                            <span class="block text-sm font-bold text-gray-600">${event.time}</span>
                            <div class="mt-2 w-10 h-10 rounded-full ${bgIcon} flex items-center justify-center mx-auto">
                                <i class="fas ${event.icon}"></i>
                            </div>
                        </div>
                        <div class="flex-grow">
                            <h3 class="font-bold text-lg ${titleColor} leading-tight mb-1">${event.title}</h3>
                            <p class="text-sm text-gray-600 mb-2 leading-relaxed">${event.desc}</p>
                            
                            <div class="bg-yellow-50 p-2 rounded-lg border border-yellow-100 mt-2">
                                <p class="text-xs text-yellow-800 flex items-start">
                                    <i class="fas fa-info-circle mt-0.5 mr-1.5 flex-shrink-0"></i>
                                    <span>${event.note}</span>
                                </p>
                            </div>
                        </div>
                    </div>
                `;
                scheduleContainer.appendChild(card);
            });
            
            const searchBtnDiv = document.createElement('div');
            searchBtnDiv.className = "mt-6 mb-10 text-center";
            searchBtnDiv.innerHTML = `
                 <a href="https://www.google.com/search?q=${data.city}+weather+December" target="_blank" class="text-xs text-gray-400 underline">æŸ¥çœ‹ç•¶åœ°å¤©æ°£</a>
            `;
            scheduleContainer.appendChild(searchBtnDiv);
        }

        // ---------------- Restaurant Rendering ----------------
        function renderRestaurants() {
            if (restaurantContainer.innerHTML.trim() !== "") return; // Avoid re-rendering

            const createRestSection = (title, list) => {
                let html = `<h2 class="text-xl font-bold text-gray-800 mb-4 pl-2 border-l-4 border-red-600 mt-6">${title}</h2>`;
                list.forEach(r => {
                    // Create Google Maps Query URL
                    const mapQuery = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(r.name + ' ' + r.addr)}`;
                    
                    html += `
                        <div class="bg-white p-4 rounded-xl shadow-sm mb-4 border border-gray-100 flex flex-col relative overflow-hidden">
                            <div class="flex justify-between items-start mb-2">
                                <div>
                                    <h3 class="font-bold text-lg text-gray-800 leading-tight">${r.name}</h3>
                                    <div class="text-xs text-gray-500 mt-1 flex items-center">
                                        <span class="bg-red-100 text-red-600 px-2 py-0.5 rounded mr-2">${r.type}</span>
                                        <span class="mr-2"><i class="fas fa-coins text-yellow-500 text-xs"></i> ${r.price}</span>
                                        <span><i class="fas fa-star text-yellow-400 text-xs"></i> ${r.rate}</span>
                                    </div>
                                </div>
                            </div>
                            <p class="text-sm text-gray-600 mb-3 line-clamp-2">${r.desc}</p>
                            
                            <a href="${mapQuery}" target="_blank" class="mt-auto w-full bg-red-50 text-red-700 py-2 rounded-lg text-center font-medium text-sm hover:bg-red-100 transition flex items-center justify-center">
                                <i class="fas fa-location-arrow mr-2"></i> å°èˆªå»é€™è£¡
                            </a>
                        </div>
                    `;
                });
                return html;
            };

            let content = `
                <div class="mb-4">
                    <h2 class="text-2xl font-bold text-gray-800 mb-1 pl-2 border-l-4 border-red-600">ç¾é£Ÿæ¸…å–®</h2>
                    <p class="text-sm text-gray-500 pl-3">é»æ“ŠæŒ‰éˆ•å¯ç›´æ¥é–‹å•Ÿ Google Maps</p>
                </div>
            `;
            content += createRestSection("ğŸ‡­ğŸ‡º å¸ƒé”ä½©æ–¯ Budapest", restaurants.budapest);
            content += createRestSection("ğŸ‡¦ğŸ‡¹ ç¶­ä¹Ÿç´ Vienna", restaurants.vienna);
            
            // Add some padding at bottom for nav bar
            content += `<div class="h-8"></div>`; 

            restaurantContainer.innerHTML = content;
        }

        // Initialize
        renderTabs(0);
        renderSchedule(0);

    </script>
</body>
</html>
